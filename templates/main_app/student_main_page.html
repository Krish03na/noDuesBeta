<!DOCTYPE html>
{% extends 'main_app/base.html' %}

{% block body_block %}
<div class="container text-center">
  <h3>Hello {{ user.name }}</h3>
</div>


<style>

.example_a {
color: #fff !important;
text-transform: uppercase;
text-decoration: none;
background: #ed3330;
padding: 20px;
border-radius: 5px;
display: inline-block;
border: none;
transition: all 0.4s ease 0s;
}

.example_a:hover {
background: #434343;
letter-spacing: 1px;
-webkit-box-shadow: 0px 5px 40px -10px rgba(0,0,0,0.57);
-moz-box-shadow: 0px 5px 40px -10px rgba(0,0,0,0.57);
box-shadow: 5px 40px -10px rgba(0,0,0,0.57);
transition: all 0.4s ease 0s;
}
</style>


<div class="button_cont" align="left"><a class="example_a" href="{% url 'main_app:StudentApply' %}">APPLY</a></div><br><br>

{% if labRequests.count > 0 %}
<div style="background-color:#b0e0e6" class="jumbotron">

  <h3>Lab Requests</h3>

  <table class="table table-hover" style="width:100%">
  <tr>
    <th>Lab</th>
    <th>Approval Status</th>
    <th>Remark</th>

  </tr>

  {% for req in labRequests %}

  <tr>
    <td>{{ req.lab.user.username }}</td>

    {% if req.approval_status == 0 %}
    <td>WAITING</td>
    {% elif req.approval_status == 1 %}
    <td>Waiting for HOD approval</td>
    {% elif req.approval_status == 2 %}
    <td>Approved</td>
    {% else %}
    <td>Rejected</td>
    {% endif %}

    <td>{{ req.remark }}</td>
  </tr>

  {% endfor %}

  </table>

</div>
{% else %}
<br><h3>No Lab Requests...</h3>
<br><br>
{% endif %}

{% if btpRequests.count > 0 %}
<div style="background-color:#b0e0e6" class="jumbotron">

  <h3>BTP Requests</h3>

  <table class="table table-hover" style="width:100%">
  <tr>
    <th>BTP Professor</th>
    <th>Approval Status</th>
    <th>Remark</th>
  </tr>

  {% for req in btpRequests %}

  <tr>
    {% if req.btp %}
    <td>{{ req.btp.user.username }}</td>
    {% else %}
    <td>{{ req.hod.user.username }}</td>
    {% endif %}

    {% if req.approval_status == 0 %}
    <td>WAITING</td>
    {% elif req.approval_status == 1 %}
    <td>Waiting for HOD approval</td>
    {% elif req.approval_status == 2 %}
    <td>Approved</td>
    {% else %}
    <td>Rejected</td>
    {% endif %}

    <td>{{ req.remark }}</td>
  </tr>

  {% endfor %}

</table>

</div>
{% else %}
<br>
<h3>No BTP Requests...</h3>
<br><br>
{% endif %}

{% if otherRequests.count > 0 %}
<div style="background-color:#b0e0e6" class="jumbotron">

  <h3>Other Requests</h3>

  <table class="table table-hover" style="width:100%">
  <tr>
    <th>Department</th>
     <th>Approval Status</th>
     <th>Remark</th>
  </tr>

  {% for req in otherRequests %}

  <tr>

    <td>{{ req.other.user.username }}</td>



    {% if req.approval_status == 0 %}
    <td>WAITING</td>
    {% elif req.approval_status == 1 %}
    <td>Waiting for HOD approval</td>
    {% elif req.approval_status == 2 %}
    <td>Approved</td>
    {% else %}
    <td>Rejected</td>
    {% endif %}

    <td>{{ req.remark }}</td>
  </tr>

  {% endfor %}


</table>

</div>
{% else %}
<br><h3>No Other Requests...</h3>
<br><br>
{% endif %}


{% endblock %}
